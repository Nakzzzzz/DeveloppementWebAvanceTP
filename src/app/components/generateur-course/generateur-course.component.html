<div class="p-6">
  <h1 class="text-2xl font-bold">🏁 Générateur de Course</h1>

  <div class="mt-4 flex gap-4">
    <select [(ngModel)]="selectedCircuit" class="border p-2">
      <option value="" disabled selected>Choisir un circuit</option>
      <option *ngFor="let circuit of circuits">{{ circuit }}</option>
    </select>

    <select [(ngModel)]="selectedRaceType" class="border p-2">
      <option value="" disabled selected>Type de course</option>
      <option value="sprint">Sprint</option>
      <option value="grand-prix">Grand Prix</option>
    </select>
  </div>

  <table class="mt-4 w-full border border-gray-300">
    <thead>
    <tr class="bg-gray-800 text-white">
      <th class="p-2 border">Position</th>
      <th class="p-2 border">Pilote</th>
      <th class="p-2 border">Points</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let position of [1,2,3,4,5,6,7,8,9,10]; let i = index" class="text-center">
      <td class="p-2 border">{{ position }}</td>
      <td class="p-2 border">
        <select [(ngModel)]="classement[i]" class="border p-2">
          <option [ngValue]="null">-- Sélectionner --</option>
          <option *ngFor="let pilote of pilotes" [ngValue]="pilote" [disabled]="isSelected(pilote)">
            {{ pilote.firstname }} {{ pilote.lastname }} ({{ pilote.team.name }})
          </option>
        </select>
      </td>
      <td class="p-2 border">{{ pointsAttribution[i] || 0 }}</td>
    </tr>
    </tbody>
  </table>

  <button (click)="validateRace()" class="bg-green-500 text-white px-4 py-2 mt-4 rounded">
    Valider la course 🏆
  </button>
</div>
