<div class="p-6">
  <h1 class="text-2xl font-bold">🏁 Générateur de course</h1>

  <!-- Sélection du circuit -->
  <div class="mt-4">
    <label class="block font-semibold">Sélectionnez un circuit :</label>
    <select class="border p-2 w-full" [(ngModel)]="selectedCircuit" (change)="loadRaceResult()">
      <option *ngFor="let circuit of circuits" [value]="circuit">{{ circuit }}</option>
    </select>
  </div>

  <!-- Sélection du type de course -->
  <div class="mt-4">
    <label class="block font-semibold">Type de course :</label>
    <select class="border p-2 w-full" [(ngModel)]="selectedRaceType">
      <option value="Grand Prix">Grand Prix</option>
      <option value="Sprint">Sprint</option>
    </select>
  </div>

  <!-- Affichage du classement existant ou création d'un nouveau -->
  <div *ngIf="selectedCircuit" class="mt-6">
    <h2 class="text-xl font-semibold">Classement de la course</h2>

    <table class="mt-4 w-full border border-gray-300 rounded-lg shadow-md">
      <thead>
      <tr class="bg-gray-800 text-white">
        <th class="p-3 border">Position</th>
        <th class="p-3 border">Pilote</th>
        <th class="p-3 border">Points</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let item of classement; let i = index" class="text-center even:bg-gray-100">
        <td class="p-3 border font-semibold">{{ i + 1 }}</td>
        <td class="p-3 border">{{ item.pilot.firstname }} {{ item.pilot.lastname }}</td>
        <td class="p-3 border font-bold">{{ pointsAttribution[i] || 0 }}</td>
      </tr>
      </tbody>
    </table>
  </div>

  <button class="mt-6 bg-gray-800 hover:bg-gray-700 text-white px-4 py-2 rounded cursor-pointer" (click)="validateRace()">✅ Valider la course</button>
</div>
